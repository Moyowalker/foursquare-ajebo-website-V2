(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{8569:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),l=t(2115),r=t(2619),i=t.n(r),n=t(63),d=t(2959),c=t(7755);function m(){let e=(0,n.useRouter)(),[s,t]=(0,l.useState)(null),[r,m]=(0,l.useState)([]),[x,o]=(0,l.useState)(!0),[h,u]=(0,l.useState)("all");return((0,l.useEffect)(()=>{let s=localStorage.getItem("user");if(s){let e=JSON.parse(s);t(e);let a=d.Ew;"my"===h?a=d.Ew.filter(s=>s.requesterId===e.id):"community"===h&&(a=d.Ew.filter(s=>!s.isPrivate&&s.requesterId!==e.id)),m(a)}else e.push("/auth/login");o(!1)},[e,h]),x)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):s?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",children:[(0,a.jsx)("div",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/member/dashboard",className:"text-blue-400 hover:text-blue-300",children:"← Back to Dashboard"}),(0,a.jsx)("span",{className:"text-slate-400",children:"•"}),(0,a.jsx)("span",{className:"text-white font-medium",children:"Prayer Requests"})]}),(0,a.jsx)(i(),{href:"/member/prayer-requests/new",children:(0,a.jsx)(c.__,{size:"sm",children:"Submit Request \uD83D\uDE4F"})})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Prayer Requests"}),(0,a.jsx)("p",{className:"text-slate-300",children:"Share your prayer needs and lift up others in our church community"})]}),(0,a.jsx)(c.w,{className:"p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsxs)("button",{onClick:()=>u("all"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("all"===h?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:["All Requests (",d.Ew.length,")"]}),(0,a.jsxs)("button",{onClick:()=>u("my"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("my"===h?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:["My Requests (",d.Ew.filter(e=>e.requesterId===s.id).length,")"]}),(0,a.jsxs)("button",{onClick:()=>u("community"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("community"===h?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:["Community Requests (",d.Ew.filter(e=>!e.isPrivate&&e.requesterId!==s.id).length,")"]})]})}),0===r.length?(0,a.jsxs)(c.w,{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDE4F"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"No Prayer Requests"}),(0,a.jsx)("p",{className:"text-slate-600 mb-6",children:"my"===h?"You haven't submitted any prayer requests yet.":"No prayer requests found for this filter."}),(0,a.jsx)(i(),{href:"/member/prayer-requests/new",children:(0,a.jsx)(c.__,{children:"Submit Your First Request ✨"})})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(e=>{var t;return(0,a.jsxs)(c.w,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:e.isAnonymous?"Anonymous":"By ".concat(e.requesterName)})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,a.jsx)(c.bo,{variant:{pending:"warning",praying:"info",answered:"success",closed:"error"}[e.status]||"info",children:{pending:"Pending Review",praying:"Being Prayed For",answered:"Answered",closed:"Closed"}[t=e.status]||t}),e.isPrivate&&(0,a.jsx)(c.bo,{variant:"warning",size:"sm",children:"Private"})]})]}),(0,a.jsx)("p",{className:"text-slate-700 mb-4 line-clamp-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-500 mb-4",children:[(0,a.jsxs)("span",{children:["Category: ",(0,a.jsx)("span",{className:"font-medium",children:e.category})]}),(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),"high"===e.urgency&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4 p-3 bg-red-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-red-500",children:"\uD83D\uDEA8"}),(0,a.jsx)("span",{className:"text-red-700 font-medium",children:"Urgent Prayer Request"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm text-slate-600",children:["\uD83D\uDC99 ",e.prayerCount||0," people praying"]}),"answered"===e.status&&(0,a.jsx)("span",{className:"text-sm text-green-600",children:"✅ Answered prayer!"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[e.requesterId!==s.id&&(0,a.jsx)(c.__,{variant:"outline",size:"sm",onClick:()=>{var s;return s=e.id,void m(e=>e.map(e=>e.id===s?{...e,prayerCount:(e.prayerCount||0)+1}:e))},children:"Pray \uD83D\uDE4F"}),e.requesterId===s.id&&(0,a.jsx)(i(),{href:"/member/prayer-requests/".concat(e.id,"/edit"),children:(0,a.jsx)(c.__,{variant:"outline",size:"sm",children:"Edit"})})]})]}),e.updates&&e.updates.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Recent Update:"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:e.updates[e.updates.length-1].content}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.updates[e.updates.length-1].createdAt).toLocaleDateString()})]})]},e.id)})}),(0,a.jsxs)(c.w,{className:"p-6 mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Prayer Request Guidelines"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-slate-600",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-700 mb-2",children:"What to Include:"}),(0,a.jsxs)("ul",{className:"space-y-1",children:[(0,a.jsx)("li",{children:"• Specific prayer needs"}),(0,a.jsx)("li",{children:"• Background context (if comfortable)"}),(0,a.jsx)("li",{children:"• How others can pray for you"}),(0,a.jsx)("li",{children:"• Any urgent time-sensitive needs"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-700 mb-2",children:"Privacy Options:"}),(0,a.jsxs)("ul",{className:"space-y-1",children:[(0,a.jsx)("li",{children:"• Mark as private for leadership only"}),(0,a.jsx)("li",{children:"• Choose anonymous submission"}),(0,a.jsx)("li",{children:"• Update status as prayers are answered"}),(0,a.jsx)("li",{children:"• Add updates to share God's faithfulness"})]})]})]})]})]})]}):null}},9009:(e,s,t)=>{Promise.resolve().then(t.bind(t,8569))}},e=>{e.O(0,[619,134,441,255,358],()=>e(e.s=9009)),_N_E=e.O()}]);