(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{2650:(e,s,l)=>{Promise.resolve().then(l.bind(l,3774))},3774:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>o});var t=l(5155),a=l(2115),r=l(2619),i=l.n(r),n=l(63),c=l(2959),d=l(7755);function o(){let e=(0,n.useRouter)(),[s,l]=(0,a.useState)(null),[r,o]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[b,j]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[v,N]=(0,a.useState)("");(0,a.useEffect)(()=>{let s=localStorage.getItem("user");if(s){let e=JSON.parse(s);l(e);let t=c.rB.filter(s=>{var l,t;return(null==(t=s.preferences)||null==(l=t.privacy)?void 0:l.showInDirectory)&&s.id!==e.id});o(t),x(t)}else e.push("/auth/login");u(!1)},[e]),(0,a.useEffect)(()=>{let e=r;if(b){let s=b.toLowerCase();e=e.filter(e=>{var l;return"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(s)||e.email.toLowerCase().includes(s)||(null==(l=e.ministries)?void 0:l.some(e=>e.toLowerCase().includes(s)))})}p&&(e=e.filter(e=>{var s;return null==(s=e.ministries)?void 0:s.includes(p)})),v&&(e=e.filter(e=>("string"==typeof e.role?e.role:e.role.type)===v)),x(e)},[b,p,v,r]);let g=e=>{var s,l;return(null==(l=e.preferences)||null==(s=l.privacy)?void 0:s.shareContactInfo)||!1};return h?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):s?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",children:[(0,t.jsx)("div",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i(),{href:"/member/dashboard",className:"text-blue-400 hover:text-blue-300",children:"← Back to Dashboard"}),(0,t.jsx)("span",{className:"text-slate-400",children:"•"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Member Directory"})]}),(0,t.jsx)(i(),{href:"/member/profile",children:(0,t.jsx)(d.__,{variant:"outline",size:"sm",children:"Edit My Profile"})})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Member Directory"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Connect with your church family and ministry teams"})]}),(0,t.jsx)(d.w,{className:"p-6 mb-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-700 font-medium mb-2",children:"Search Members"}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value),className:"w-full p-3 bg-slate-50 text-slate-800 rounded-lg border border-slate-300 focus:border-blue-500 focus:outline-none",placeholder:"Search by name, email, or ministry..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-700 font-medium mb-2",children:"Ministry"}),(0,t.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"w-full p-3 bg-slate-50 text-slate-800 rounded-lg border border-slate-300 focus:border-blue-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"All Ministries"}),(()=>{let e=new Set;return r.forEach(s=>{var l;null==(l=s.ministries)||l.forEach(s=>e.add(s))}),Array.from(e).sort()})().map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-700 font-medium mb-2",children:"Role"}),(0,t.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full p-3 bg-slate-50 text-slate-800 rounded-lg border border-slate-300 focus:border-blue-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"",children:"All Roles"}),(0,t.jsx)("option",{value:"member",children:"Members"}),(0,t.jsx)("option",{value:"leader",children:"Leaders"}),(0,t.jsx)("option",{value:"pastor",children:"Pastors"}),(0,t.jsx)("option",{value:"admin",children:"Admins"})]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)(d.__,{variant:"outline",onClick:()=>{j(""),f(""),N("")},className:"w-full",children:"Clear Filters"})})]})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-slate-300",children:["Showing ",m.length," of ",r.length," members",b&&' matching "'.concat(b,'"')]})}),0===m.length?(0,t.jsxs)(d.w,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC65"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"No Members Found"}),(0,t.jsx)("p",{className:"text-slate-600 mb-6",children:b||p||v?"Try adjusting your search criteria or filters.":"No members have opted to be shown in the directory yet."}),(0,t.jsx)(d.__,{onClick:()=>{j(""),f(""),N("")},children:"Clear Filters"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{var s;return(0,t.jsxs)(d.w,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-4",children:[(0,t.jsxs)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold mx-auto mb-3",children:[e.firstName[0],e.lastName[0]]}),(0,t.jsxs)("h3",{className:"text-lg font-bold text-slate-800",children:[e.firstName," ",e.lastName]}),(0,t.jsx)(d.bo,{variant:"info",size:"sm",children:{member:"Member",leader:"Leader",pastor:"Pastor",admin:"Admin"}["string"==typeof(s=e.role)?s:s.type]||"Member"})]}),g(e)?(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"\uD83D\uDCE7"}),(0,t.jsx)("a",{href:"mailto:".concat(e.email),className:"text-blue-600 hover:text-blue-700 text-sm",children:e.email})]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"\uD83D\uDCF1"}),(0,t.jsx)("a",{href:"tel:".concat(e.phone),className:"text-blue-600 hover:text-blue-700 text-sm",children:e.phone})]})]}):(0,t.jsx)("div",{className:"text-center text-slate-500 text-sm mb-4",children:"Contact info private"}),e.ministries&&e.ministries.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Ministries:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.ministries.map((e,s)=>(0,t.jsx)(d.bo,{variant:"success",size:"sm",children:e},s))})]}),(0,t.jsxs)("div",{className:"text-center text-slate-500 text-xs pt-3 border-t border-slate-200",children:["Member since ",new Date(e.membershipDate).toLocaleDateString()]}),g(e)&&(0,t.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,t.jsx)("a",{href:"mailto:".concat(e.email),className:"flex-1",children:(0,t.jsx)(d.__,{variant:"outline",size:"sm",className:"w-full",children:"Email"})}),e.phone&&(0,t.jsx)("a",{href:"tel:".concat(e.phone),className:"flex-1",children:(0,t.jsx)(d.__,{variant:"outline",size:"sm",className:"w-full",children:"Call"})})]})]},e.id)})}),(0,t.jsxs)(d.w,{className:"p-6 mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"\uD83D\uDD12 Privacy & Directory"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-slate-600",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-700 mb-2",children:"Who Appears Here:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"• Members who opted to show in directory"}),(0,t.jsx)("li",{children:"• Active church members only"}),(0,t.jsx)("li",{children:"• Contact info depends on privacy settings"}),(0,t.jsx)("li",{children:"• Leadership contact info may be limited"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-700 mb-2",children:"Privacy Controls:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"• Update your visibility in profile settings"}),(0,t.jsx)("li",{children:"• Choose what contact info to share"}),(0,t.jsx)("li",{children:"• Ministry involvement is always visible"}),(0,t.jsx)("li",{children:"• Report any misuse to church leadership"})]})]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-200 text-center",children:(0,t.jsx)(i(),{href:"/member/profile",children:(0,t.jsx)(d.__,{variant:"outline",size:"sm",children:"Update My Privacy Settings"})})})]}),(0,t.jsxs)(d.w,{className:"p-6 mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"\uD83D\uDCDE Church Leadership"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDC68‍\uD83D\uDCBC"}),(0,t.jsx)("h4",{className:"font-semibold text-slate-800",children:"Senior Pastor"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"For spiritual guidance and counseling"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("a",{href:"mailto:pastor@foursquareajebo.org",className:"text-blue-600 hover:text-blue-700 text-sm",children:"pastor@foursquareajebo.org"})})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDC65"}),(0,t.jsx)("h4",{className:"font-semibold text-slate-800",children:"Church Admin"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"For membership and general inquiries"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("a",{href:"mailto:admin@foursquareajebo.org",className:"text-blue-600 hover:text-blue-700 text-sm",children:"admin@foursquareajebo.org"})})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDE4F"}),(0,t.jsx)("h4",{className:"font-semibold text-slate-800",children:"Prayer Team"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"For prayer requests and spiritual support"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("a",{href:"mailto:prayer@foursquareajebo.org",className:"text-blue-600 hover:text-blue-700 text-sm",children:"prayer@foursquareajebo.org"})})]})]})]})]})]}):null}}},e=>{e.O(0,[619,134,441,255,358],()=>e(e.s=2650)),_N_E=e.O()}]);